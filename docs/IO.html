    <HTML>

    <HEAD>
    <TITLE>MIME::IO</TITLE>
    </HEAD>

    <BODY>

    <A NAME="#__top"> <P></A>
<CENTER><TABLE BORDER=2 CELLPADDING=2 WIDTH=100%><TR><TD WIDTH=20% ROWSPAN=3 ALIGN=CENTER><B><A HREF="MIME-tools.html">Home</A></B></TD><TD WIDTH=20%><B><FONT SIZE=-1><A HREF="Body.html">MIME::Body</A></FONT>
</B></TD><TD WIDTH=20%><B><FONT SIZE=-1><A HREF="Decoder.html">MIME::Decoder</A></FONT>
</B></TD><TD WIDTH=20%><B><FONT SIZE=-1><A HREF="Entity.html">MIME::Entity</A></FONT>
</B></TD><TD WIDTH=20%><B><FONT SIZE=-1><A HREF="Head.html">MIME::Head</A></FONT>
</B></TD><TR><TD WIDTH=20%><B><FONT SIZE=-1 COLOR=#B00020>MIME::IO</FONT></B></TD><TD WIDTH=20%><B><FONT SIZE=-1><A HREF="Latin1.html">MIME::Latin1</A></FONT>
</B></TD><TD WIDTH=20%><B><FONT SIZE=-1><A HREF="Parser.html">MIME::Parser</A></FONT>
</B></TD><TD WIDTH=20%><B><FONT SIZE=-1><A HREF="ParserBase.html">MIME::ParserBase</A></FONT>
</B></TD><TR><TD WIDTH=20%><B><FONT SIZE=-1><A HREF="ToolUtils.html">MIME::ToolUtils</A></FONT>
</B></TD></TABLE></CENTER>    <P><TABLE BORDER=0>
      <TR>
	<TD VALIGN=TOP ALIGN=CENTER>
	    <H1><B><FONT SIZE=7 COLOR=#300080>MIME::<BR>IO</FONT></B></H1>
	    <img src="mime-sm.gif" alt="MIME">
	    <P><FONT SIZE=+1 COLOR=#B00020><I>It's MIME time! *</I></FONT>
        <TD VALIGN=TOP>
<!-- INDEX BEGIN -->
<UL>
	<LI><A HREF="#name">NAME</A>
	<LI><A HREF="#description">DESCRIPTION</A>
	<LI><A HREF="#builtin_subclasses">BUILT-IN SUBCLASSES</A>
	<UL>
		<LI><A HREF="#mimeiohandle">MIME::IO::Handle</A>
		<LI><A HREF="#mimeioscalar">MIME::IO::Scalar</A>
		</UL>
	<LI><A HREF="#notes">NOTES</A>
	<LI><A HREF="#author">AUTHOR</A>
	<LI><A HREF="#version">VERSION</A>
</UL>
<!-- INDEX END -->

    </TABLE>
<HR>
<P>
<H2><A HREF="#__top"><IMG SRC="redbul.gif" ALT="*" BORDER=0></A> <A NAME="name">NAME</A></H2>
<A HREF="IO.html">MIME::IO</A> - a small package for turning things into IO
handles


<P>

<P>
<HR ALIGN=LEFT WIDTH=100%>
<H2><A HREF="#__top"><IMG SRC="redbul.gif" ALT="*" BORDER=0></A> <A NAME="description">DESCRIPTION</A></H2>
As of MIME-tools 2.0, input and output routines cannot just assume that
they are dealing with filehandles. In an effort to come up with a nice, OO
way of encapsulating input/output streams, I decided to use a minimal
subset of Graham Barr's <STRONG>IO::Handle</STRONG>
 interface (which is itself derived from the FileHandle interface).


<P>

Therefore, all that <A HREF="Body.html">MIME::Body,</A> <A
HREF="Decoder.html">MIME::Decoder,</A> and the other classes require (and,
thus, all that they can assume) is that they are manipulating an object
which responds to the following small, well-defined set of messages:


<P>

<DL>
<DT><STRONG><A NAME="item_close">close

</A></STRONG><DD>
<EM>Instance method.</EM>

This should close the input/output stream.


<P>

<DT><STRONG><A NAME="item_getline">getline

</A></STRONG><DD>
<EM>Instance method.</EM>

This should get a single line from the input stream, and return it (or
undef on end of file). The returned line should end with the newline
(unless, of course, this is the last line of a file which is not terminated
by a newline).  


<P>

<DT><STRONG><A NAME="item_getlines">getlines

</A></STRONG><DD>
<EM>Instance method.</EM>

This should get the entire input stream as an array of lines, which each
line is terminated by the <CODE>"\n"</CODE> (except, maybe, the last one).


<P>

<DT><STRONG><A NAME="item_print_args">print ARGS...

</A></STRONG><DD>
<EM>Instance method.</EM>

This should output the ARGS to the stream.


<P>

<DT><STRONG><A NAME="item_read_buffernbytes">read BUFFER,NBYTES

</A></STRONG><DD>
<EM>Instance method.</EM>

This should get NBYTES from the input stream, placing them in BUFFER. It
should return the number of bytes actually read, undef on error, and 0 on
end of file.


<P>

</DL>
<EM>Thanks to Achim Bohnet for suggesting this more-generic I/O model.</EM>





<P>

<P>
<HR ALIGN=LEFT WIDTH=100%>
<H2><A HREF="#__top"><IMG SRC="redbul.gif" ALT="*" BORDER=0></A> <A NAME="builtin_subclasses">BUILT-IN SUBCLASSES</A></H2>
<P>
<HR ALIGN=LEFT WIDTH=75%>
<H3><A NAME="mimeiohandle">MIME::IO::Handle</A></H3>
An I/O interface object wrapped around a raw filehandle. If you hand this
class' <CODE>wrap()</CODE> constructor an argument, it is expected to be one of the following:


<P>

<UL>
<LI><STRONG></STRONG>
<STRONG>A raw scalar filehandle name,</STRONG>
 like <CODE>"STDOUT"</CODE> or <CODE>"Class::HANDLE"</CODE>. In this case, the filehandle name is wrapped in a <A
HREF="IO.html">MIME::IO</A> object, which is returned.


<P>

<LI><STRONG></STRONG>
<STRONG>A raw filehandle glob,</STRONG>
 like <CODE>\*STDOUT</CODE>. In this case, the filehandle glob is wrapped in a <A
HREF="IO.html">MIME::IO</A> object, which is returned.


<P>

<LI><STRONG></STRONG>
<STRONG>A blessed FileHandle object.</STRONG>

In this case, the FileHandle is wrapped in a <A HREF="IO.html">MIME::IO</A>
object if and only if your FileHandle class does not support the <CODE>read()</CODE> method.


<P>

<LI><STRONG></STRONG>
<STRONG>Any other kind of blessed object,</STRONG>
 which is assumed to be already conformant to the I/O object interface. In
this case, you just get back that object.


<P>

</UL>
Like this:


<P>

<PRE>
      my $IO = wrap MIME::IO::Handle \*STDOUT;
</PRE>

<P>

<STRONG>All this class does</STRONG>
 is to provide a simple means for the MIME:: classes to wrap raw filehandles
inside a class which responds to the above messages (by passing the
messages on to the actual filehandle in the form of the standard function
calls).


<P>

The bottom line: what you get back is an object which is guaranteed to
support the methods defined above.


<P>

This interface is used by many of the MIME-tool classes, for backwards
compatibility with earlier versions of MIME-parser: if you supply a raw
filehandle where an INSTREAM or OUTSTREAM is expected, most MIME packages
will automatically wrap that raw filehandle in a <A
HREF="IO.html">MIME::IO</A> object, which fits the I/O handle criteria.


<P>

<P>
<HR ALIGN=LEFT WIDTH=75%>
<H3><A NAME="mimeioscalar">MIME::IO::Scalar</A></H3>
An I/O interface object wrapped around a scalar. This is to implement
things that look like filehandles, but which keep all of their data
in-core.


<P>

Use it like this:


<P>

<PRE>
    $IO = new MIME::IO::Scalar \$scalar;
    $IO-&gt;print(&quot;Some data\n&quot;);
    $IO-&gt;print(&quot;Some more data\n&quot;);
    $IO-&gt;close;    # ...$scalar now holds &quot;Some data\nSome more data\n&quot;
</PRE>

<P>

<P>
<HR ALIGN=LEFT WIDTH=100%>
<H2><A HREF="#__top"><IMG SRC="redbul.gif" ALT="*" BORDER=0></A> <A NAME="notes">NOTES</A></H2>
I know, I know: three-level-nesting of packages is evil when those packages
are not ``private''. Sure, I could have made this two modules, <CODE>MIME::IOHandle</CODE> and <CODE>MIME::IOScalar</CODE>... but it just seemed more sensible to mimic the IO:: hierarchy, one level
down (under MIME::).


<P>

<P>
<HR ALIGN=LEFT WIDTH=100%>
<H2><A HREF="#__top"><IMG SRC="redbul.gif" ALT="*" BORDER=0></A> <A NAME="author">AUTHOR</A></H2>
Copyright (c) 1996 by Eryq / <A
HREF="MAILTO:eryq@rhine.gsfc.nasa.gov">eryq@rhine.gsfc.nasa.gov</A>


<P>

All rights reserved. This program is free software; you can redistribute it
and/or modify it under the same terms as Perl itself.


<P>

<P>
<HR ALIGN=LEFT WIDTH=100%>
<H2><A HREF="#__top"><IMG SRC="redbul.gif" ALT="*" BORDER=0></A> <A NAME="version">VERSION</A></H2>
$Revision: 1.3 $ $Date: 1996/10/18 06:52:28 $


<P>

    <P>
    <HR>       
    <FONT COLOR=#F00000>*</FONT>
    <FONT SIZE=-1>
    Artwork and slogan from Warner Bros' "Animaniacs". 
    Neither this code nor its author are connected with or
    endorsed by Warner Bros. in any way. Narf. Poit. 
    </FONT>
    </BODY>

    </HTML>
